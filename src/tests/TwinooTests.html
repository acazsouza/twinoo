<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Twinoo Tests</title>

    <link href="../../libs/jquery-qunit-v1.5.0-7-g4f51c3f/qunit/qunit.css" rel="stylesheet" />

    <script type="text/javascript" src="../../libs/jquery-1.7.2/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="../../libs/jquery-qunit-v1.5.0-7-g4f51c3f/qunit/qunit.js"></script>

    <script type="text/javascript" src="../twinoo.js"></script>

    <script type="text/javascript">
        $(function () {

            module('getRandomNumber() Tests');

            test("getRandomNumber() should return a number between 1..9", function () {
                var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getRandomNumber(), numbers), true);
            });

            test("getRandomNumber({ limit: anyNumber }) should return a number between 1..anyNumber", function () {
                var result;

                for (var i = 1; i <= 9; i++) {
                    result = getRandomNumber({ limit: i });

                    equal((0 < result && result < (i + 1)), true);
                }
            });

            test("getRandomNumber({ limit: 1 }) should return 1", function () {
                equal(1 == getRandomNumber({ limit: 1 }), true);
            });

            test("getRandomNumber() should never return the same number once and again", function () {
                var prevNumber, actualNumber, assertResult;

                for (var i = 0; i <= 200; i++) {
                    actualNumber = getRandomNumber({ limit: 9 });
                    assertResult = prevNumber != actualNumber;

                    equal(assertResult, true);

                    if (!assertResult)
                        break;

                    prevNumber = actualNumber;
                }
            });

            test("getRandomNumber({ except: anyNumber }) should return a number between 1..9 except anyNumber", function () {
                for (var i = 0; i <= 100; i++)
                    equal(6 != getRandomNumber({ except: 6 }), true);
            });



            module('getFirstNumber() Tests');

            test("getFirstNumber('+') should return a number between 1..8", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4, 5, 6, 7, 8];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getFirstNumber(operator), numbers), true);
            });

            test("getFirstNumber('-') should return a number between 2..9", function () {
                var operator = '-';
                var numbers = [2, 3, 4, 5, 6, 7, 8, 9];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getFirstNumber(operator), numbers), true);
            });

            test("getFirstNumber('-') should not return 1", function () {
                for (var i = 0; i <= 100; i++)
                    equal(1 < getFirstNumber('-'), true);
            });

            test("getFirstNumber('*') should return a number between 1..9", function () {
                var operator = '*';
                var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getFirstNumber(operator), numbers), true);
            });

            test("getFirstNumber('/') should return a number between 2..9", function () {
                var operator = '/';
                var numbers = [2, 3, 4, 5, 6, 7, 8, 9];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getFirstNumber(operator), numbers), true);
            });

            test("getFirstNumber('/') should not return 1", function () {
                for (var i = 0; i <= 100; i++)
                    equal(1 < getFirstNumber('/'), true);
            });



            module('getSecondNumber Tests');

            test("getSecondNumber(8, '+') should return 1", function () {
                var operator = '+';
                var numbers = [1];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(8, operator), numbers), true);
            });

            test("getSecondNumber(7, '+') should return a number between 1..2", function () {
                var operator = '+';
                var numbers = [1, 2];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(7, operator), numbers), true);
            });

            test("getSecondNumber(6, '+') should return a number between 1..3", function () {
                var operator = '+';
                var numbers = [1, 2, 3];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(6, operator), numbers), true);
            });

            test("getSecondNumber(5, '+') should return a number between 1..4", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(5, operator), numbers), true);
            });

            test("getSecondNumber(4, '+') should return a number between 1..5", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4, 5];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(4, operator), numbers), true);
            });

            test("getSecondNumber(3, '+') should return a number between 1..6", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4, 5, 6];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(3, operator), numbers), true);
            });

            test("getSecondNumber(2, '+') should return a number between 1..7", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4, 5, 6, 7];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(2, operator), numbers), true);
            });

            test("getSecondNumber(1, '+') should return a number between 1..8", function () {
                var operator = '+';
                var numbers = [1, 2, 3, 4, 5, 6, 7, 8];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(1, operator), numbers), true);
            });

            test("getSecondNumber(9, '-') should return a number between 1..8", function () {
                var operator = '-';
                var numbers = [1, 2, 3, 4, 5, 6, 7, 8];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(9, operator), numbers), true);
            });

            test("getSecondNumber(8, '-') should return a number between 1..7", function () {
                var operator = '-';
                var numbers = [1, 2, 3, 4, 5, 6, 7];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(8, operator), numbers), true);
            });

            test("getSecondNumber(7, '-') should return a number between 1..6 ", function () {
                var operator = '-';
                var numbers = [1, 2, 3, 4, 5, 6];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(7, operator), numbers), true);
            });

            test("getSecondNumber(6, '-') should return a number between 1..5", function () {
                var operator = '-';
                var numbers = [1, 2, 3, 4, 5];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(6, operator), numbers), true);
            });

            test("getSecondNumber(5, '-') should return a number between 1..4", function () {
                var operator = '-';
                var numbers = [1, 2, 3, 4];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(5, operator), numbers), true);
            });

            test("getSecondNumber(4, '-') should return a number between 1..3", function () {
                var operator = '-';
                var numbers = [1, 2, 3];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(4, operator), numbers), true);
            });

            test("getSecondNumber(3, '-') should return a number between 1..2", function () {
                var operator = '-';
                var numbers = [1, 2];

                for (var i = 0; i <= 100; i++)
                    equal(-1 < $.inArray(getSecondNumber(3, operator), numbers), true);
            });

            test("getSecondNumber(2, '-') should return number 1", function () {
                for (var i = 0; i <= 100; i++)
                    equal(1 == getSecondNumber(2, '-'), true);
            });

            test("getSecondNumber(1, '*') should return a number between 1..9", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(1, '*');
                    result = (1 <= secondNumber && secondNumber <= 9);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(2, '*') should return a number between 1..4", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(2, '*');
                    result = (1 <= secondNumber && secondNumber <= 4);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(3, '*') should return a number between 1..3", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(3, '*');
                    result = (1 <= secondNumber && secondNumber <= 3);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(4, '*') should return a number between 1..2", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(4, '*');
                    result = (1 <= secondNumber && secondNumber <= 2);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(5, '*') should return 1", function () {
                equal(1 == getSecondNumber(5, '*'), true);
            });

            test("getSecondNumber(6, '*') should return 1", function () {
                equal(1 == getSecondNumber(6, '*'), true);
            });

            test("getSecondNumber(7, '*') should return 1", function () {
                equal(1 == getSecondNumber(7, '*'), true);
            });

            test("getSecondNumber(8, '*') should return 1", function () {
                equal(1 == getSecondNumber(8, '*'), true);
            });

            test("getSecondNumber(9, '*') should return 1", function () {
                equal(1 == getSecondNumber(9, '*'), true);
            });

            test("getSecondNumber(2, '/') should return number 1 or 2", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(2, '/');
                    result = (1 <= secondNumber && secondNumber <= 2);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(3, '/') should return number 1 or 3", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(3, '/');
                    result = (1 == secondNumber || secondNumber == 3);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(4, '/') should return a number between 1..2 and 4", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(4, '/');
                    result = ((1 <= secondNumber && secondNumber <= 2) || secondNumber == 4);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(5, '/') should return number 1 or 5", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(5, '/');
                    result = (1 == secondNumber || secondNumber == 5);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(6, '/') should return a number between 1..3 and 6", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(6, '/');
                    result = ((1 <= secondNumber && secondNumber <= 3) || secondNumber == 6);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(7, '/') should return number 1 or 7", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(7, '/');
                    result = (1 == secondNumber || secondNumber == 7);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(8, '/') should return a number between 1..2 and 4 and 8", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(8, '/');
                    result = ((1 <= secondNumber && secondNumber <= 2) || secondNumber == 4 || secondNumber == 8);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });

            test("getSecondNumber(9, '/') should return number 1 or 3 or 9", function () {
                var secondNumber, result;

                for (var i = 0; i <= 100; i++) {
                    secondNumber = getSecondNumber(9, '/');
                    result = (secondNumber == 1 || secondNumber == 3 || secondNumber == 9);

                    equal(result, true);

                    if (!result)
                        break;
                }
            });



            module('buildExpression() Tests');

            test("buildExpression(firstNumber, operator, secondNumber) should return a filled expression object", function () {
                var operators = ['+', '+', '+', '+', '-', '-', '-', '/', '/', '*'];
                var operator = operators[Math.floor((Math.random() * operators.length))];
                var firstNumber = getFirstNumber(operator);
                var secondNumber = getSecondNumber(firstNumber, operator);

                var expression = buildExpression(firstNumber, operator, secondNumber);

                equal(null != expression.firstNumber, true)
                equal(null != expression.operator, true)
                equal(null != expression.secondNumber, true)
                equal(null != expression.correctAnswer, true)

                equal(firstNumber == expression.firstNumber, true)
                equal(operator == expression.operator, true)
                equal(secondNumber == expression.secondNumber, true)
                equal((Number(eval(firstNumber.toString() + operator.toString() + secondNumber.toString()))) == expression.correctAnswer, true)
            });
        });
    </script>
</head>
<body>
    <h1 id="qunit-header">Twinoo Tests</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>